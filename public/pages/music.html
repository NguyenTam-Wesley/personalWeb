<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Music Playlist</title>
    <link href="https://fonts.googleapis.com/css2?family=Birthstone&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../style/components.css" />
    <link rel="stylesheet" href="../style/music.css" />
    <link
      rel="icon"
      href="https://cdn.glitch.global/d1dee37d-172b-4e0c-969a-6ea2f7f1b378/avt_libai.jpg?v=1682409879904"
    />
  </head>
  <body>
    <main class="container music-section">
      <!-- Header -->
      <h1 class="page-title">ğŸµ Danh má»¥c</h1>
      
      <!-- Theme Toggle -->
      <div class="music-controls">
        <button id="themeToggle" class="btn-theme" title="Toggle Dark Mode">
          <span class="theme-icon">ğŸŒ™</span>
          Dark Mode
        </button>
      </div>

      <!-- Top Bar: Back + Search -->
      <div class="top-bar">
        <button id="backBtn" aria-label="Quay láº¡i">â¬…ï¸ Quay láº¡i</button>
        <div class="search-container">
          <span class="search-icon">ğŸ”</span>
          <input 
            type="text" 
            id="searchInput" 
            class="search-input" 
            placeholder="TÃ¬m kiáº¿m bÃ i hÃ¡t, nghá»‡ sÄ©..."
            autocomplete="off"
            aria-label="TÃ¬m kiáº¿m bÃ i hÃ¡t"
          />
        </div>
        <div class="volume-control-bar">
          <canvas id="volumeCanvas" width="100" height="20" aria-label="Äiá»u chá»‰nh Ã¢m lÆ°á»£ng"></canvas>
          <button id="eraserBtn" aria-label="XÃ³a báº£n váº½">ğŸ§¹</button>
        </div>
      </div>

      <!-- Filter / Category -->
      <div class="filter-container" id="filterContainer">
        <!-- Filters will be dynamically added -->
      </div>

      <!-- Main Menu -->
      <div id="mainMenu"></div>
      
      <!-- Playlist Container -->
      <div id="playlistContainer"></div>

      <!-- Music List -->
      <div class="music-list" id="musicList">
        <!-- Music items will be dynamically added -->
      </div>

      <!-- Empty State -->
      <div class="empty-state" id="emptyState" style="display: none;">
        <div class="empty-state-icon">ğŸµ</div>
        <div class="empty-state-text">ChÆ°a cÃ³ bÃ i hÃ¡t</div>
        <div class="empty-state-hint">Chá»n playlist Ä‘á»ƒ báº¯t Ä‘áº§u nghe nháº¡c</div>
      </div>

      <!-- Loading State -->
      <div class="loading-state" id="loadingState" style="display: none;">
        <div>Äang táº£i...</div>
      </div>
    </main>

    <!-- Player - Sticky Bottom -->
    <div id="controlsContainer" class="controls-container">
      <div class="player-controls">
        <div class="song-info">
          <span id="currentSongTitle">ChÆ°a chá»n bÃ i hÃ¡t</span>
        </div>
        <div class="control-buttons">
          <button id="shuffleBtn" aria-label="Báº­t/táº¯t phÃ¡t ngáº«u nhiÃªn">ğŸ”€</button>
          <button id="prevBtn" aria-label="BÃ i trÆ°á»›c">â®ï¸</button>
          <button id="pauseResumeBtn" aria-label="PhÃ¡t/Táº¡m dá»«ng">â–¶ï¸</button>
          <button id="nextBtn" aria-label="BÃ i tiáº¿p">â­ï¸</button>
          <button id="repeatBtn" aria-label="Báº­t/táº¯t láº·p láº¡i">ğŸ”</button>
          <button id="addToPlaylistBtn" class="add-to-playlist-btn" aria-label="ThÃªm bÃ i hÃ¡t vÃ o playlist">â•</button>
        </div>
        <div class="progress-container">
          <span id="currentTime" aria-label="Thá»i gian hiá»‡n táº¡i">0:00</span>
          <input 
            type="range" 
            id="progressBar" 
            min="0" 
            value="0" 
            step="1" 
            aria-label="Thanh tiáº¿n trÃ¬nh phÃ¡t nháº¡c"
          />
          <span id="duration" aria-label="Tá»•ng thá»i gian">0:00</span>
        </div>
      </div>
    </div>

    <audio id="musicPlayer" style="width:0;height:0;opacity:0;position:absolute;left:-9999px;" preload="metadata"></audio>

    <script type="module" src="../js/modules/music_entry.js"></script>
  </body>
</html>
