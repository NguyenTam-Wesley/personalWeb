<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Editor Comparison</title>
    <!-- Quill CSS -->
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
    <!-- Quill JS -->
    <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
    <!-- TinyMCE JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tinymce/6.8.2/tinymce.min.js"></script>

    <style>
        body { font-family: Arial, sans-serif; padding: 20px; max-width: 1400px; margin: 0 auto; }
        .comparison-container { display: flex; gap: 20px; margin: 20px 0; }
        .editor-section { flex: 1; border: 1px solid #ddd; border-radius: 8px; padding: 15px; }
        .editor-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
        .editor-title { font-size: 18px; font-weight: bold; }
        .status { padding: 5px 10px; border-radius: 4px; font-size: 12px; }
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }

        /* Quill styles */
        #quill-editor { height: 250px; border: 1px solid #ccc; border-radius: 4px; }
        .ql-toolbar { border-top-left-radius: 4px; border-top-right-radius: 4px; }
        .ql-container { border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; }

        /* TinyMCE styles */
        #tinymce-editor { height: 250px; padding: 10px; border: 1px solid #ccc; border-radius: 4px; }

        button { margin: 5px; padding: 8px 16px; background: #4e7cff; color: white; border: none; border-radius: 4px; cursor: pointer; }
        .clear-btn { background: #dc3545; }
        .get-btn { background: #28a745; }

        .output-section { margin-top: 20px; padding: 15px; background: #f9f9f9; border-radius: 4px; }
        .output-item { margin-bottom: 15px; padding: 10px; background: white; border-radius: 4px; border: 1px solid #eee; }
        .output-label { font-weight: bold; color: #333; margin-bottom: 5px; }
        .raw-output { background: #f0f0f0; padding: 8px; border-radius: 4px; font-family: monospace; font-size: 12px; white-space: pre-wrap; max-height: 150px; overflow-y: auto; }
        .rendered-output { border: 1px solid #ddd; padding: 10px; background: white; border-radius: 4px; }

        .comparison-table { margin-top: 20px; width: 100%; border-collapse: collapse; }
        .comparison-table th, .comparison-table td { padding: 10px; border: 1px solid #ddd; text-align: left; }
        .comparison-table th { background: #f5f5f5; }
    </style>
</head>
<body>
    <h1>‚öñÔ∏è Editor Comparison: Quill vs TinyMCE</h1>

    <div class="comparison-container">
        <!-- Quill Editor -->
        <div class="editor-section">
            <div class="editor-header">
                <span class="editor-title">ü™∂ Quill Editor</span>
                <span class="status success" id="quill-status">Ready</span>
            </div>
            <div id="quill-editor">
                <h2>Quill Test</h2>
                <p>This is <strong>bold</strong> and <em>italic</em> text in Quill.</p>
                <ul><li>Bullet 1</li><li>Bullet 2</li></ul>
            </div>
            <div style="margin-top: 10px;">
                <button onclick="getQuillContent()" class="get-btn">Get Content</button>
                <button onclick="clearQuill()" class="clear-btn">Clear</button>
            </div>
        </div>

        <!-- TinyMCE Editor -->
        <div class="editor-section">
            <div class="editor-header">
                <span class="editor-title">üìù TinyMCE Editor</span>
                <span class="status success" id="tinymce-status">Ready</span>
            </div>
            <textarea id="tinymce-editor">
                <h2>TinyMCE Test</h2>
                <p>This is <strong>bold</strong> and <em>italic</em> text in TinyMCE.</p>
                <ul><li>Bullet 1</li><li>Bullet 2</li></ul>
            </textarea>
            <div style="margin-top: 10px;">
                <button onclick="getTinyMceContent()" class="get-btn">Get Content</button>
                <button onclick="clearTinyMce()" class="clear-btn">Clear</button>
            </div>
        </div>
    </div>

    <div class="output-section" id="output-section" style="display: none;">
        <h2>üìä Output Comparison</h2>
        <div id="comparison-results"></div>
    </div>

    <table class="comparison-table">
        <thead>
            <tr>
                <th>Feature</th>
                <th>Quill</th>
                <th>TinyMCE</th>
                <th>Recommendation</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>License</td>
                <td>MIT (Free)</td>
                <td>GPLv2 (Free tier available)</td>
                <td>Both OK</td>
            </tr>
            <tr>
                <td>Setup Complexity</td>
                <td>Simple</td>
                <td>Medium</td>
                <td>Quill</td>
            </tr>
            <tr>
                <td>API Key Required</td>
                <td>No</td>
                <td>Optional (but recommended)</td>
                <td>Quill</td>
            </tr>
            <tr>
                <td>Output Format</td>
                <td>HTML + Delta</td>
                <td>HTML</td>
                <td>Both OK</td>
            </tr>
            <tr>
                <td>Bundle Size</td>
                <td>~50KB</td>
                <td>~400KB</td>
                <td>Quill</td>
            </tr>
            <tr>
                <td>Customization</td>
                <td>High</td>
                <td>Very High</td>
                <td>TinyMCE</td>
            </tr>
            <tr>
                <td>Word-like Experience</td>
                <td>Good</td>
                <td>Excellent</td>
                <td>TinyMCE</td>
            </tr>
        </tbody>
    </table>

    <script>
        let quill, tinymceEditor;

        // Initialize Quill
        const toolbarOptions = [
            ['bold', 'italic', 'underline'],
            [{ 'header': [1, 2, false] }],
            [{ 'list': 'ordered'}, { 'list': 'bullet' }],
            ['clean']
        ];

        quill = new Quill('#quill-editor', {
            theme: 'snow',
            modules: {
                toolbar: toolbarOptions
            },
            placeholder: 'Start writing with Quill...',
            readOnly: false
        });

        // Initialize TinyMCE
        tinymce.init({
            selector: '#tinymce-editor',
            height: 250,
            menubar: false,
            plugins: 'lists',
            toolbar: 'bold italic | bullist numlist',
            readonly: false,
            setup: function(ed) {
                tinymceEditor = ed;
            }
        });

        function getQuillContent() {
            if (!quill) {
                alert('Quill not initialized');
                return;
            }

            const html = quill.root.innerHTML;
            const text = quill.getText();
            const delta = quill.getContents();

            return {
                editor: 'Quill',
                html: html,
                text: text,
                delta: JSON.stringify(delta),
                isHtml: html.includes('<'),
                length: html.length
            };
        }

        function getTinyMceContent() {
            if (!tinymceEditor) {
                alert('TinyMCE not initialized');
                return;
            }

            const html = tinymceEditor.getContent();
            const text = tinymceEditor.getContent({format: 'text'});

            return {
                editor: 'TinyMCE',
                html: html,
                text: text,
                isHtml: html.includes('<'),
                length: html.length
            };
        }

        function clearQuill() {
            if (quill) {
                quill.setContents([]);
            }
        }

        function clearTinyMce() {
            if (tinymceEditor) {
                tinymceEditor.setContent('');
            }
        }

        // Global function to compare both editors
        window.compareEditors = function() {
            const quillData = getQuillContent();
            const tinymceData = getTinyMceContent();

            if (!quillData || !tinymceData) {
                alert('Both editors must be initialized');
                return;
            }

            const results = document.getElementById('comparison-results');
            results.innerHTML = `
                <div class="output-item">
                    <h3>üéØ Content Type Comparison</h3>
                    <p><strong>Quill HTML:</strong> ${quillData.isHtml ? '‚úÖ HTML' : '‚ùå Plain Text'}</p>
                    <p><strong>TinyMCE HTML:</strong> ${tinymceData.isHtml ? '‚úÖ HTML' : '‚ùå Plain Text'}</p>
                </div>

                <div class="output-item">
                    <h3>üìè Length Comparison</h3>
                    <p><strong>Quill:</strong> ${quillData.length} chars</p>
                    <p><strong>TinyMCE:</strong> ${tinymceData.length} chars</p>
                </div>

                <div class="output-item">
                    <h3>ü™∂ Quill Raw HTML</h3>
                    <div class="raw-output">${quillData.html}</div>
                </div>

                <div class="output-item">
                    <h3>üìù TinyMCE Raw HTML</h3>
                    <div class="raw-output">${tinymceData.html}</div>
                </div>

                <div class="output-item">
                    <h3>üé® Quill Rendered</h3>
                    <div class="rendered-output">${quillData.html}</div>
                </div>

                <div class="output-item">
                    <h3>üé® TinyMCE Rendered</h3>
                    <div class="rendered-output">${tinymceData.html}</div>
                </div>
            `;

            document.getElementById('output-section').style.display = 'block';
        };

        // Add compare button
        setTimeout(() => {
            const compareBtn = document.createElement('button');
            compareBtn.textContent = '‚öñÔ∏è Compare Both';
            compareBtn.className = 'get-btn';
            compareBtn.onclick = window.compareEditors;
            compareBtn.style.marginTop = '10px';
            compareBtn.style.fontSize = '16px';
            compareBtn.style.padding = '12px 24px';
            document.querySelector('.comparison-container').appendChild(compareBtn);
        }, 1000);
    </script>
</body>
</html>